<div class="wrapper">
    <header class="main-header">
        <a href="index2.html" class="logo">
            <!-- <span class="logo-mini"><b>HL</b>C</span>
            <span class="logo-lg"><i class="fa fa-heartbeat logo_icon"></i><b>E-Health</b>Care</span> -->
            <span class="logo-lg"><b>Dicom Web Viewer</b> </span>
        </a>
        <nav class="navbar navbar-static-top" style="background-color:#171819;">
            <div class="navbar-custom-menu">
                <ul class="nav navbar-nav">
                    <li class="dropdown messages-menu">
                        <a title="Windowing" href="" tabIndex="1" class="dropdown-toggle" data-toggle="dropdown"
                            aria-expanded="false" (click)="enableTools('bright')">
                            <i class="fa fa-adjust"></i> <i class="fa fa-sort-down arrow_down"></i>
                            <span class="txt"><small>Windowing</small></span>
                        </a>

                    </li>
                    <li class="dropdown notifications-menu">
                        <a title="Pan" href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false" (click)="enableTools('pan')">
                            <i class="fa fa-hand-stop-o"></i> <i class="fa fa-sort-down arrow_down"></i>
                            <span class="txt"><small>Pan</small></span>
                        </a>

                    </li>
                    <li class="dropdown notifications-menu">
                        <a title="Zoom" href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false" (click)="enableTools('zoom')">
                            <i class="fa fa-2x fa-search"></i> 
                            <!-- <i class="fa fa-sort-down arrow_down"></i> -->
                            <span class="txt"><small>Zoom</small></span>
                        </a>
                    </li>
                    <li class="dropdown notifications-menu">
                        <a title="Measure" href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false" (click)="enableTools('rectangleRoi')">
                            <i class="fa fa-2x fa-square"></i>
                             <!-- <i class="fa fa-sort-down arrow_down"></i> -->
                            <span class="txt"><small>Measure</small></span>
                        </a>
                    </li>
                    <li class="dropdown notifications-menu">
                        <a title="Rotate" href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                            <i class="fa fa-rotate-right"></i> <i class="fa fa-sort-down arrow_down"></i>
                            <span class="txt"><small>Rotate</small></span>
                        </a>
                    </li>
                    <li class="dropdown notifications-menu">
                        <a title="Magnifier" href="" class="dropdown-toggle" data-toggle="dropdown"
                            aria-expanded="false" (click)="enableTools('magnify')">
                            <i class="fa fa-search-plus"></i> <i class="fa fa-sort-down arrow_down"></i>
                            <span class="txt"><small>Magnif..</small></span>
                        </a>
                    </li>
                    <li class="dropdown notifications-menu">
                        <a title="Angle" href="" class="dropdown-toggle" data-toggle="dropdown"
                            aria-expanded="false" (click)="enableTools('angle')">
                            <i class="fa fa-2x fa-angle-left"></i>
                            <span class="txt"><small>Angle</small></span>
                        </a>
                    </li>
                    <li class="dropdown notifications-menu">
                        <a title="Text" href="" class="dropdown-toggle" data-toggle="dropdown" data-placement="bottom"
                            aria-expanded="false" (click)="enableTools('text')">
                            <i class="fa fa-2x fas fa-font"></i>
                            <span class="txt"><small>Text</small></span>
                        </a>
                    </li>
                    <li class="dropdown notifications-menu">
                        <a title="Scroll" href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                            <i class="fa fa-book"></i> <i class="fa fa-sort-down arrow_down"></i>
                            <span class="txt"><small>Scroll</small></span>
                        </a>
                    </li>
                    <!-- <li class="dropdown notifications-menu">
                        <a title="Export" href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                            <i class="fa fa-download"></i> <i class="fa fa-sort-down arrow_down"></i>
                            <span class="txt"><small>Export</small></span>
                        </a>
                    </li>
                    <li class="dropdown notifications-menu">
                        <a title="Print" href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                            <i class="fa fa-print"></i> <i class="fa fa-sort-down arrow_down"></i>
                            <span class="txt"><small>Print</small></span>
                        </a>
                    </li> -->
                    <li class="dropdown notifications-menu">
                        <a title="Fullscreen" href="" class="dropdown-toggle" data-toggle="dropdown"
                            aria-expanded="false">
                            <i class="fa fa-arrows-alt"></i>
                            <span class="txt"><small>Fullsc..</small></span>
                        </a>
                    </li>
                    <li class="dropdown notifications-menu">
                        <a title="Reset" href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false" (click)="enableTools('reset')">
                            <i class="fa fa-refresh"></i>
                            <span class="txt"><small>Reset</small></span>
                        </a>
                    </li>
                    <li class="dropdown notifications-menu">
                        <a title="Dicom Tags" href="" class="dropdown-toggle" data-toggle="modal" data-target="#myModal"
                            (click)="viewDicomTags()">
                            <i class="glyphicon glyphicon-tags"></i>
                            <span class="txt"><small>Dicom Tags</small></span>
                        </a>
                    </li>
                    <li class="dropdown notifications-menu">
                        <a title="Dicom Tags" href="" class="dropdown-toggle" data-toggle="modal" data-target="#emailModal">
                            <i class="fa fa-envelope"></i>
                            <span class="txt"><small>Email</small></span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
        
    </header>
    <aside class="main-sidebar">
        <section class="sidebar">
            <ul class="sidebar-menu thumbnails" data-widget="tree">
                <li class="treeview">
                    <a href="">
                        <span class="txt_menu">{{imageStudy.patientName}}</span>
                        <small class="txt_menu" style="display:block" *ngIf="imageStudy.studyDate">Study Date :
                            <span>{{imageStudy.studyDate}}</span></small>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
                    </a>
                    <ul class="treeview-menu" *ngFor="let series of imageStudy.series; let i = index">
                        <span class="sub_txt">
                            <small><i class="fa fa-folder-open"></i>{{selectedInstanceImg}}/{{series.instancesCount}}</small>
                            <small><i class="fa fa-text"></i>{{series.mainDicomTags.protocolName}}</small>
                        </span>
                        <li>
                            <ul class="users-list clearfix">
                                <li class="active_sub"
                                    *ngFor="let instancesModel of series.instancesModel; let j = index">
                                    <img src="{{instancesModel.instancePreview}}" alt="User Image"
                                        (click)="renderImage(instancesModel.instanceId,j,series.instancesCount)">
                                    <span class="users-list-date">{{j+1}}</span>
                                </li>
                            </ul>
                        </li>
                        <div class="clearfix"></div>
                    </ul>
                </li>
            </ul>
        </section>
    </aside>
    <div class="content-wrapper">
        <section class="content pt_5">
            <div class="row">
                <div class="col-lg-12 col-xs-12">
                    <div class="box cust_box">
                        <div class="box-header pad_0" style="position: relative;background: #171819;">
                            <!-- <h3 class="box-title text-left">1 <br /> 1250 x 780<br /></h3> -->
                            <h3 class="box-title text-left">{{selectedInstanceImg}} / {{instancesTotlaCount}}<br /></h3>
                            <div class="pull-right text-right">
                                <small>Ananymized</small><br /><small>2019-03-18 14:12:47</small>
                            </div>

                        </div>



                        <div class="box-body pad_0">
                            <ul class="users-list clearfix w100per">
                                <li style="min-height: 800px;">
                                    <!-- <div id="dicomImageWrapper"
                                        style="width: 300px;height: 300px;position:relative;background-color:black"
                                        oncontextmenu="return false" onmousedown="return false">

                                        <div id="{{'dicomImage_'+ image.name }}"
                                            style="top:0px;left:0px;position:absolute">
                                        </div>
                                    </div> -->

                                    <div id="dicomImage"
                                        style="min-height: 820px;width:100%;">
                                    </div>

                                    <!-- <img src="{{selectedInstanceModel.preview}}" alt="User Image"
                                        style="min-height: 720px;width:500px;padding-top:30px"> -->
                                </li>
                            </ul>
                        </div>
                        <div class="box-header pad_0" style="position: relative;background: #171819;">
                            <h3 class="box-title text-left">1 <br /> 1250 x 780<br /></h3>
                            <div class="pull-right text-right">
                                <small>Ananymized</small><br /><small>2019-03-18 14:12:47</small>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Modal -->
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog modal-lg">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title" style="text-align: center;"><font color="#07b2ff">Dicom Tags</font></h4>
        </div>
        <div class="modal-body">
          <!-- <p>Some text in the modal.</p> -->
          <div style="padding:10px 5px" class="box-body card-no-border f15">
          <div class="table-responsive">
            <table class="table table-bordered table-hover">
                <thead class="text-primary">
                  <tr>
                    <th>Tag</th>
                    <th>Name</th>
                    <th>Value</th>
                  </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let x of dicomTags | keyvalue">
                        <td>{{x.key}}</td>
                        <td>{{x.value.Name}}</td>
                        <td>{{x.value.Value}}</td>
                
                    </tr>
                </tbody>
              </table>
              </div>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>


  <div class="modal fade" id="emailModal" role="dialog">
        <div class="modal-dialog modal-sl">
        
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title" style="text-align: center;"><font color="#07b2ff">Share via Email</font></h4>
            </div>
            <div class="modal-body">
                <!-- <div>
                    <font color="black">Share URL : </font>
                    <font color="black"><label>{{currentURL}}</label></font>
                </div>
                <br />
                <div>
                    <font color="black">Email To : </font> <input type="text" class="form-control"
                        placeholder="sample@domain.com" />
                </div>
                <br />
                <div>
                    <font color="black">Notes : </font> <textarea rows="10" class="form-control"></textarea>
                </div> -->

                <form #emailForm="ngForm" (ngSubmit)="sendEmail(emailForm);">
                    <div class="form-group">
                        <font color="black"><label>Share URL : {{currentURL}}</label></font>
                    </div>
                    <div class="form-group">
                        <font color="black"><label for="recipient-name" class="control-label">Email To:</label></font>
                        <input type="text" class="form-control" name="email" ngModel #email="ngModel" placeholder="sample@domain.com">
                    </div>
                    <div class="form-group">
                        <font color="black"><label for="recipient-name" class="control-label">Subject:</label></font>
                        <input type="text" class="form-control" name="subject" [(ngModel)]="subjecttext" #subject="ngModel">
                
                    </div>
                    <div class="form-group">
                        <font color="black"><label for="message-text" class="control-label">Notes:</label></font>
                        <textarea style="overflow:auto;resize:none" class="form-control" name="message" [(ngModel)]="messagetext"
                            #message="ngModel" required rows="3"></textarea>
                    </div>
                
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-info"><i class="fa fa-envelope"></i>&nbsp;Send</button>
                    </div>
                </form>
            
            </div>
          </div>
          
        </div>
      </div>

</div>



